# å®‰è£…çŠ¶æ€æŠ¥å‘Š

## âœ… å®‰è£…æˆåŠŸçš„ç»„ä»¶

### æ ¸å¿ƒä¾èµ–åŒ…
- âœ… requests (HTTPè¯·æ±‚åº“)
- âœ… matplotlib (åŸºç¡€ç»˜å›¾åº“)
- âœ… seaborn (ç»Ÿè®¡å¯è§†åŒ–åº“)
- âœ… numpy (æ•°å€¼è®¡ç®—åº“)
- âœ… plotly (äº¤äº’å¼å›¾è¡¨åº“)
- âœ… pandas (æ•°æ®å¤„ç†åº“ï¼Œé€šè¿‡seabornä¾èµ–è‡ªåŠ¨å®‰è£…)

### å¯ç”¨å·¥å…·
- âœ… **dify_kb_recall_test.py** - åŸºç¡€ç‰ˆå‘½ä»¤è¡Œæµ‹è¯•å·¥å…·
- âœ… **enhanced_recall_tester.py** - å¢å¼ºç‰ˆæµ‹è¯•å·¥å…·ï¼ˆæ”¯æŒé…ç½®æ–‡ä»¶ã€å¯è§†åŒ–ï¼‰
- âœ… **quick_start.py** - äº¤äº’å¼å¿«é€Ÿå¯åŠ¨è„šæœ¬
- âœ… **test_cases_sample.csv** - ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹
- âœ… **config_template.json** - é…ç½®æ–‡ä»¶æ¨¡æ¿

## âŒ å®‰è£…å¤±è´¥çš„ç»„ä»¶

### æ— æ³•å®‰è£…çš„åŒ…
- âŒ **streamlit** - Webç•Œé¢æ¡†æ¶ï¼ˆä¾èµ–pyarrowç¼–è¯‘å¤±è´¥ï¼‰
- âŒ **openpyxl** - Excelæ–‡ä»¶å¤„ç†ï¼ˆå·²ä»requirements.txtç§»é™¤ï¼‰

### å—å½±å“çš„åŠŸèƒ½
- âŒ **web_interface.py** - Webå›¾å½¢ç•Œé¢æ— æ³•ä½¿ç”¨
- âŒ Excelæ ¼å¼çš„ç»“æœå¯¼å‡ºåŠŸèƒ½

## ğŸš€ å½“å‰å¯ç”¨åŠŸèƒ½

### 1. åŸºç¡€å‘½ä»¤è¡Œæµ‹è¯•
```bash
python dify_kb_recall_test.py \
  --api-url "https://api.dify.ai" \
  --api-key "your_api_key" \
  --dataset-id "your_dataset_id" \
  --test-file "test_cases_sample.csv"
```

### 2. å¢å¼ºç‰ˆæµ‹è¯•ï¼ˆæ¨èï¼‰
```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶
python enhanced_recall_tester.py \
  --config config.json \
  --test-file test_cases_sample.csv \
  --output-dir ./results \
  --generate-viz

# æˆ–ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
python enhanced_recall_tester.py \
  --api-url "https://api.dify.ai" \
  --api-key "your_api_key" \
  --dataset-id "your_dataset_id" \
  --test-file test_cases_sample.csv \
  --output-dir ./results \
  --generate-viz
```

### 3. äº¤äº’å¼é…ç½®
```bash
python quick_start.py
```

## ğŸ“Š è¾“å‡ºåŠŸèƒ½

### âœ… å¯ç”¨çš„è¾“å‡ºæ ¼å¼
- CSVæ ¼å¼ç»“æœæ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰scoreå€¼ï¼‰
- JSONæ ¼å¼è¯¦ç»†ç»“æœæ–‡ä»¶
- å¯è§†åŒ–å›¾è¡¨ï¼ˆPNGæ ¼å¼ï¼‰
  - åˆ†æ•°åˆ†å¸ƒç›´æ–¹å›¾
  - åˆ†ç±»å¹³å‡åˆ†æ•°æŸ±çŠ¶å›¾
  - å“åº”æ—¶é—´åˆ†å¸ƒ
  - æ–‡æ¡£æ•°é‡åˆ†å¸ƒ

### âœ… åˆ†æåŠŸèƒ½
- æ€»ä½“ç»Ÿè®¡ä¿¡æ¯
- åˆ†æ•°ç»Ÿè®¡ï¼ˆæœ€é«˜ã€æœ€ä½ã€å¹³å‡ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ï¼‰
- æŒ‰åˆ†ç±»çš„æ€§èƒ½åˆ†æ
- å“åº”æ—¶é—´åˆ†æ

## ğŸ”§ è§£å†³æ–¹æ¡ˆå»ºè®®

### å¯¹äºWebç•Œé¢éœ€æ±‚
å¦‚æœéœ€è¦Webç•Œé¢ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š

1. **ä½¿ç”¨Jupyter Notebook**
   ```bash
   pip install jupyter
   jupyter notebook
   ```
   ç„¶ååœ¨notebookä¸­è¿è¡Œæµ‹è¯•ä»£ç 

2. **æ‰‹åŠ¨å®‰è£…streamlitï¼ˆå¯é€‰å°è¯•ï¼‰**
   ```bash
   # å°è¯•ä½¿ç”¨condaå®‰è£…ï¼ˆå¦‚æœæœ‰condaç¯å¢ƒï¼‰
   conda install streamlit
   
   # æˆ–å°è¯•å®‰è£…é¢„ç¼–è¯‘ç‰ˆæœ¬
   pip install streamlit --no-build-isolation
   ```

### å¯¹äºExcelè¾“å‡ºéœ€æ±‚
å¦‚æœéœ€è¦Excelæ ¼å¼è¾“å‡ºï¼Œå¯ä»¥ï¼š

1. **ä½¿ç”¨CSVæ ¼å¼**ï¼ˆæ¨èï¼‰
   - CSVæ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨Excelä¸­æ‰“å¼€
   - å…¼å®¹æ€§æ›´å¥½ï¼Œæ–‡ä»¶æ›´å°

2. **æ‰‹åŠ¨å®‰è£…openpyxl**
   ```bash
   pip install openpyxl
   ```

## ğŸ“ ä½¿ç”¨å»ºè®®

1. **ç«‹å³å¯ç”¨**ï¼šä½¿ç”¨å¢å¼ºç‰ˆå‘½ä»¤è¡Œå·¥å…·è¿›è¡Œæµ‹è¯•
2. **é…ç½®ç®¡ç†**ï¼šå¤åˆ¶config_template.jsonä¸ºconfig.jsonå¹¶å¡«å…¥çœŸå®APIä¿¡æ¯
3. **æµ‹è¯•ç”¨ä¾‹**ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨test_cases_sample.csvå¼€å§‹æµ‹è¯•
4. **ç»“æœåˆ†æ**ï¼šé‡ç‚¹å…³æ³¨CSVå’ŒJSONè¾“å‡ºæ–‡ä»¶ä¸­çš„scoreå€¼

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½å·²å¯ç”¨ï¼š
- âœ… æ‰¹é‡å¬å›æµ‹è¯•
- âœ… Scoreå€¼è·å–å’Œåˆ†æ
- âœ… ç»“æœå¯¼å‡ºï¼ˆCSV/JSONï¼‰
- âœ… å¯è§†åŒ–å›¾è¡¨ç”Ÿæˆ
- âœ… é…ç½®æ–‡ä»¶æ”¯æŒ
- âœ… äº¤äº’å¼é…ç½®

**æ€»ç»“ï¼šè™½ç„¶Webç•Œé¢æš‚æ—¶æ— æ³•ä½¿ç”¨ï¼Œä½†æ‰€æœ‰æ ¸å¿ƒçš„å¬å›æµ‹è¯•å’Œscoreåˆ†æåŠŸèƒ½éƒ½å·²å®Œå…¨å¯ç”¨ï¼**